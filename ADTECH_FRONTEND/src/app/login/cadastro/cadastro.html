<!-- Hero Section -->
<section class="login-hero">
  <!-- Background EFEITOS -->
  <div class="hero-flare"></div>
  <div class="hero-flare-secondary"></div>
  <div class="hero-triangle-pattern"></div>

  <!-- Cadastro CARD com imagem ao lado -->
  <div class="login-wrapper">
    <div class="complexo-image-wrapper">
      <img
        src="/assets/images/ChatGPT Image 5 de nov. de 2025, 15_12_39.png"
        alt="Complexo DMC"
        loading="lazy"/>
      <div class="complexo-text">
        <h2 class="complexo-title">AD-TECH</h2>
        <p class="complexo-subtitle">Seu agente inteligente</p>
      </div>
    </div>
    <div class="login-container">
      <!-- Menu de seleção de papel -->
      <section class="menu-login">
        <!-- Botoes-->
        <div class="role-menu">
          <button type="button" class="role-btn-cartorio"(click)="selectRole('cartorio')"[class.active]="selectedRole === 'cartorio'">Cartório</button>
          <button type="button" class="role-btn-advogado"(click)="selectRole('advogado')"[class.active]="selectedRole === 'advogado'">Advogado</button>
          <button type="button" class="role-btn-cliente" (click)="selectRole('cliente')" [class.active]="selectedRole === 'cliente'">Cliente</button>
        </div>
      </section>
    <div class="login-card">
      <div class="login-header">
        <h1>Criar Conta</h1>
        <p>Cadastre-se para começar</p>
      </div>

      <!-- Mensagem de erro -->
      @if (errorMessage) {
      <div class="error-message">
        {{ errorMessage }}
      </div>
      }

      <!-- Mensagem de sucesso -->
      @if (successMessage) {
      <div class="success-message">
        {{ successMessage }}
      </div>
      }

      <!-- FORMULÁRIO DE CADASTRO -->
      <form (ngSubmit)="onSubmit()" class="form-animation">
        <!-- Nome Completo -->
        <div class="form-group">
          <label for="nome">Nome Completo</label>
          <div class="input-wrapper" [class.error]="hasError('nome')">
            <input
              type="text"
              id="nome"
              [(ngModel)]="cadastroForm.nome"
              name="nome"
              class="form-input"
              [class.error]="hasError('nome')"
              placeholder="Digite seu nome completo"
              required/>
            <i class="fas fa-user input-icon"></i>
          </div>
          @if (hasError('nome')) {
            <span class="error-message">{{ getError('nome') }}</span>
          }
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">E-mail</label>
          <div class="input-wrapper" [class.error]="hasError('email')">
            <input
              type="email"
              id="email"
              [(ngModel)]="cadastroForm.email"
              name="email"
              class="form-input"
              [class.error]="hasError('email')"
              placeholder="seu@email.com"
              required/>
            <i class="fas fa-envelope input-icon"></i>
          </div>
          @if (hasError('email')) {
            <span class="error-message">{{ getError('email') }}</span>
          }
        </div>

        <!-- Campo específico para CARTÓRIO -->
        @if (selectedRole === 'cartorio') {
        <div class="form-group">
          <label for="numeroCartorio">Código CNJ</label>
          <div class="input-wrapper" [class.error]="hasError('numero_cartorio')">
            <input
              type="text"
              id="numeroCartorio"
              [(ngModel)]="cadastroForm.numero_cartorio"
              name="numero_cartorio"
              class="form-input"
              [class.error]="hasError('numero_cartorio')"
              placeholder="121475"
              required/>
            <i class="fas fa-building input-icon"></i>
          </div>
          @if (hasError('numero_cartorio')) {
            <span class="error-message">{{ getError('numero_cartorio') }}</span>
          }
        </div>
        }

        <!-- Campo específico para ADVOGADO -->
        @if (selectedRole === 'advogado') {
        <div class="form-group">
          <label for="oabNumber">Número da OAB</label>
          <div class="input-wrapper" [class.error]="hasError('oabNumber')">
            <input
              type="text"
              id="oabNumber"
              [(ngModel)]="cadastroForm.oabNumber"
              name="oabNumber"
              class="form-input"
              [class.error]="hasError('oabNumber')"
              placeholder="OAB 123456"
              required/>
            <i class="fas fa-id-card input-icon"></i>
          </div>
          @if (hasError('oabNumber')) {
            <span class="error-message">{{ getError('oabNumber') }}</span>
          }
        </div>
        }

        <!-- Senha -->
        <div class="form-group">
          <label for="senha">Senha</label>
          <div class="input-wrapper" [class.error]="hasError('senha')">
            <input
              type="password"
              id="senha"
              [(ngModel)]="cadastroForm.senha"
              name="senha"
              class="form-input"
              [class.error]="hasError('senha')"
              placeholder="Mínimo 6 caracteres"
              required
              minlength="6"/>
            <i class="fas fa-lock input-icon"></i>
          </div>
          @if (hasError('senha')) {
            <span class="error-message">{{ getError('senha') }}</span>
          }
        </div>

        <!-- Confirmar Senha -->
        <div class="form-group">
          <label for="confirmarSenha">Confirmar Senha</label>
          <div class="input-wrapper" [class.error]="hasError('confirmarSenha')">
            <input
              type="password"
              id="confirmarSenha"
              [(ngModel)]="cadastroForm.confirmarSenha"
              name="confirmarSenha"
              class="form-input"
              [class.error]="hasError('confirmarSenha')"
              placeholder="Digite a senha novamente"
              required/>
            <i class="fas fa-lock input-icon"></i>
          </div>
          @if (hasError('confirmarSenha')) {
            <span class="error-message">{{ getError('confirmarSenha') }}</span>
          }
        </div>

        <!-- Botão de Cadastro -->
        <button type="submit" class="btn-login" [disabled]="isLoading">
          @if (isLoading) {
            <i class="fas fa-spinner fa-spin"></i> Cadastrando...
          } @else {
            Criar Conta
          }
        </button>
      </form>

      <div class="divider">
        <span>ou</span>
      </div>
      <div class="signup-link">Já tem uma conta? <a (click)="voltarParaLogin()" style="cursor: pointer;" class="link-cadastro">Faça login</a></div>
    </div>
    </div>
  </div>
</section>
